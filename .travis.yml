language: java
sudo: false

cache:
  directories:
  - "$HOME/.m2"

jobs:
  include:
  - stage: test
    jdk: oraclejdk8
    script: mvn clean install
    after_success:
    - bash <(curl -s https://codecov.io/bash)
  - stage: doc
    jdk: oraclejdk8
    env: JAVADOC=true
    script:
    - mvn javadoc:aggregate
